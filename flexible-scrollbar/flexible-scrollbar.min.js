!function(){"use strict";function a(a,b,c){this._mediator=a,this._minSliderSize=b,this._sliderArrowMoveAmount=c}function b(c,d,e){this._$scrollbar=c,this._$targetElement=d,this._$sliderBed=this._$scrollbar.find(".slider-bed"),this._$slider=this._$sliderBed.find(".slider"),this._$body=$(document.body),this._stopArrowMouseDown=!1,e||(this._minSliderSize=b._MINIMUM_SLIDER_SIZE);var f={getContainerScrollPos:this._getContainerScrollPos.bind(this),setSliderPosition:this._setSliderPosition.bind(this),getSliderBedSize:this._getSliderBedSize.bind(this),getContainerRealSize:this._getContainerRealSize.bind(this),getContainerSize:this._getContainerSize.bind(this),hideScrollbar:this._hideScrollbar.bind(this),setSliderSize:this._setSliderSize.bind(this),scrollContainer:this._scrollContainer.bind(this)};this._scrollbarEngine=new a(f,this._minSliderSize,b._SLIDER_ARROW_AMOUNT),this._scrollbarEngine.updateSliderSize(),setInterval(function(){this._scrollbarEngine.updateSliderSize()}.bind(this),100),this._initEvents(),this._initTouchEvents(),this._initMouseWheel()}function c(a,c,d){var e='<div class="scrollbar horizontal"><div class="left-arrow arrow"></div><div class="right-arrow arrow"></div><div class="slider-bed"><div class="slider"></div></div></div>';c.css("overflow-x","hidden"),a.html(e),b.call(this,a,c,d)}function d(a,c,d){var e='<div class="scrollbar vertical"><div class="top-arrow arrow"></div><div class="slider-bed"><div class="slider"></div></div><div class="bottom-arrow arrow"></div></div>';c.css("overflow-y","hidden"),a.html(e),b.call(this,a,c,d)}var e={isTouchEvent:function(a){var b;return a=$.Event(a),b=a.type,"touchstart"===b||"touchmove"===b||"touchend"===b||"touchcancel"===b},disableSelection:function(){$("*").attr("unselectable","on").addClass("unselectable").addClass("default-cursor")},enableSelection:function(){$("*").removeAttr("unselectable").removeClass("unselectable").removeClass("default-cursor")},isMac:function(){return navigator.platform.toUpperCase().indexOf("MAC")>=0},isNaturalScrolling:function(a){return a.originalEvent.webkitDirectionInvertedFromDevice===!0||void 0===a.originalEvent.webkitDirectionInvertedFromDevice&&this.isMac()},isSafari:function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")}};a.prototype.setSliderBasedOnContainerState=function(){var a=this._mediator.getContainerScrollPos()/(this._containerRealSize-this._containerSize);this._currentSliderPos=(this._sliderBedSize-this._sliderSize)*a,this._mediator.setSliderPosition(this._currentSliderPos)},a.prototype.updateSliderSize=function(){var a;this._sliderBedSize=this._mediator.getSliderBedSize(),this._containerRealSize=this._mediator.getContainerRealSize(),this._containerSize=this._mediator.getContainerSize(),a=this._containerSize/this._containerRealSize,a>=1&&0>=a&&this._mediator.hideScrollbar(),this._sliderSize=this._sliderBedSize*a,this._sliderSize<this._minSliderSize&&(this._sliderSize=this._minSliderSize),this._mediator.setSliderSize(this._sliderSize),this.setSliderBasedOnContainerState()},a.prototype.setSliderPos=function(a){var b,c=!1;return 0>a?(a=0,c=!0):a>this._sliderBedSize-this._sliderSize&&(a=this._sliderBedSize-this._sliderSize,c=!0),this._mediator.setSliderPosition(a),b=a/(this._sliderBedSize-this._sliderSize),this._mediator.scrollContainer((this._containerRealSize-this._containerSize)*b),this._currentSliderPos=a,c},a.prototype.decreaseArrow=function(){var a=this._currentSliderPos-this._sliderArrowMoveAmount;return this.setSliderPos(a)},a.prototype.increaseArrow=function(){var a=this._currentSliderPos+this._sliderArrowMoveAmount;return this.setSliderPos(a)},a.prototype.getCurrentSliderPos=function(){return this._currentSliderPos},b._SLIDER_ARROW_AMOUNT=15,b._CONST_MOVE_MIL=75,b._MINIMUM_SLIDER_SIZE=40,b.prototype._getContainerScrollPos=function(){return this._scroll(this._$targetElement)},b.prototype._setSliderPosition=function(a){this._position(this._$slider,a)},b.prototype._getSliderBedSize=function(){return this._size(this._$sliderBed)},b.prototype._getContainerRealSize=function(){return this._scrollSize(this._$targetElement)},b.prototype._getContainerSize=function(){return this._size(this._$targetElement)},b.prototype._hideScrollbar=function(){this._$scrollbar.css("display","none")},b.prototype._setSliderSize=function(a){this._size(this._$slider,a)},b.prototype._scrollContainer=function(a){this._scroll(this._$targetElement,a)},b.prototype._disableScrolling=function(){e.enableSelection(),this._mousePosRelativeToSlider=null,this._stopArrowMouseDown=!0},b.prototype._touchInertiaAnimator=function(a){var b,c=16,d=.95;b=a*c,this._swipIntervalHandel&&clearInterval(this._swipIntervalHandel),this._swipIntervalHandel=setInterval(function(a){var c;return b*=d,1>b&&b>-1?void clearInterval(a._swipIntervalHandel):(c=a._scroll(a._$targetElement)-b,0>c?void clearInterval(a._swipIntervalHandel):(a._scroll(a._$targetElement,c),void a._scrollbarEngine.setSliderBasedOnContainerState()))},c,this)},b.prototype._initTouchEvents=function(){var a,b,c;this._$targetElement.on("touchstart",$.proxy(function(c){1===c.originalEvent.targetTouches.length&&(this._swipIntervalHandel&&clearInterval(this._swipIntervalHandel),a=this._touchSinglePagePos(c),b={position:a,time:c.timeStamp})},this)).on("touchmove",$.proxy(function(d){var e;a&&(e=a,a=this._touchSinglePagePos(d),this._scroll(this._$targetElement,this._scroll(this._$targetElement)-a+e),this._scrollbarEngine.setSliderBasedOnContainerState(),d.preventDefault(),c=b,b={position:a,time:d.timeStamp})},this)).on("touchend touchcancel",$.proxy(function(d){var f=b.time-c.time,g=b.position-c.position,h=g/f;e.isSafari()||this._touchInertiaAnimator(h),a=void 0},this))},b.prototype._initMouseWheel=function(){this._$targetElement.mousewheel&&this._$targetElement.on("mousewheel",$.proxy(function(a){var b,c=this._mousewheelDelta(a);c*=e.isNaturalScrolling(a)?this._mousewheelOrientation():-this._mousewheelOrientation(),b=this._scrollbarEngine.setSliderPos(this._scrollbarEngine.getCurrentSliderPos()+c*(a.deltaFactor/4)),b||a.preventDefault()},this))},b.prototype._initEvents=function(){this._$slider.on("mousedown touchstart",$.proxy(function(a){return this._mousePosRelativeToSlider=this._offsetEvent(a),a.stopPropagation(),e.disableSelection(),a.preventDefault()},this)),this._$body.on("mouseup touchend",$.proxy(this._disableScrolling,this)).on("mousemove touchmove",$.proxy(function(a){var b;return this._mousePosRelativeToSlider?(e.disableSelection(),b=this._page(a)-this._offsetElement(this._$sliderBed)-this._mousePosRelativeToSlider,this._scrollbarEngine.setSliderPos(b),a.preventDefault()):void 0},this)).on("mouseleave",$.proxy(this._disableScrolling,this)),this._$scrollbar.find(".slider-bed").on("mousedown touchstart",$.proxy(function(a){var b;this._mousePosRelativeToSlider=this._size(this._$slider)/2,b=this._offsetEvent(a)-this._mousePosRelativeToSlider,this._scrollbarEngine.setSliderPos(b)},this)),this._$scrollbar.find(".left-arrow, .top-arrow").on("mousedown touchstart",$.proxy(function(){var a;this._stopArrowMouseDown=!1,this._scrollbarEngine.decreaseArrow(),e.disableSelection(),a=setInterval(function(){(this._stopArrowMouseDown||this._scrollbarEngine.decreaseArrow())&&clearInterval(a)}.bind(this),b._CONST_MOVE_MIL)},this)),this._$scrollbar.find(".right-arrow, .bottom-arrow").on("mousedown touchstart",$.proxy(function(){var a;this._stopArrowMouseDown=!1,this._scrollbarEngine.increaseArrow(),e.disableSelection(),a=setInterval(function(){(this._stopArrowMouseDown||this._scrollbarEngine.increaseArrow())&&clearInterval(a)}.bind(this),b._CONST_MOVE_MIL)},this))},b.prototype._size=function(a,b){throw new Error("Must be implemented by subclass.")},b.prototype._scrollSize=function(a){throw new Error("Must be implemented by subclass.")},b.prototype._position=function(a,b){throw new Error("Must be implemented by subclass.")},b.prototype._touchSinglePagePos=function(a){throw new Error("Must be implemented by subclass.")},b.prototype._offsetEvent=function(a){throw new Error("Must be implemented by subclass.")},b.prototype._offsetElement=function(a){throw new Error("Must be implemented by subclass.")},b.prototype._page=function(a){throw new Error("Must be implemented by subclass.")},b.prototype._scroll=function(a,b){throw new Error("Must be implemented by subclass.")},b.prototype._positionRelParent=function(a){throw new Error("Must be implemented by subclass.")},b.prototype._mousewheelDelta=function(a){throw new Error("Must be implemented by subclass.")},b.prototype._mousewheelOrientation=function(){throw new Error("Must be implemented by subclass.")},c.prototype=Object.create(b.prototype),c.prototype.constructor=c,c.prototype._size=function(a,b){return b?a.width(b):a.width()},c.prototype._scrollSize=function(a){return a.prop("scrollWidth")},c.prototype._position=function(a,b){return null!==b&&void 0!==b?a.css("left",b):a.css("left")},c.prototype._touchSinglePagePos=function(a){var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];return b.pageX},c.prototype._offsetEvent=function(a){var b,c;return e.isTouchEvent(a)?(b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],c=b.pageX-$(a.target).offset().left):a.offsetX||a.pageX-$(a.target).offset().left},c.prototype._offsetElement=function(a){return a.offset().left},c.prototype._page=function(a){if(e.isTouchEvent(a)){var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];return b.pageY}return a.pageX},c.prototype._scroll=function(a,b){return null!==b&&void 0!==b?a.scrollLeft(b):a.scrollLeft()},c.prototype._positionRelParent=function(a){return a.position().left},c.prototype._mousewheelDelta=function(a){return a.deltaX},c.prototype._mousewheelOrientation=function(){return 1},d.prototype=Object.create(b.prototype),d.prototype.constructor=d,d.prototype._size=function(a,b){return b?a.height(b):a.height()},d.prototype._scrollSize=function(a){return a.prop("scrollHeight")},d.prototype._position=function(a,b){return null!==b&&void 0!==b?a.css("top",b):a.css("top")},d.prototype._touchSinglePagePos=function(a){var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];return b.pageY},d.prototype._offsetEvent=function(a){var b,c;return e.isTouchEvent(a)?(b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],c=b.pageY-$(a.target).offset().top):a.offsetY||a.pageY-$(a.target).offset().top},d.prototype._offsetElement=function(a){return a.offset().top},d.prototype._page=function(a){if(e.isTouchEvent(a)){var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];return b.pageY}return a.pageY},d.prototype._scroll=function(a,b){return null!==b&&void 0!==b?a.scrollTop(b):a.scrollTop()},d.prototype._positionRelParent=function(a){return a.position().top},d.prototype._mousewheelDelta=function(a){return a.deltaY},d.prototype._mousewheelOrientation=function(){return-1},$.fn.scrollbar=function(a,b,e){b?new c($(this),$(a),e):new d($(this),$(a),e)},$.fn.scrollbar.ScrollbarEngine=a}();
//# sourceMappingURL=flexible-scrollbar.min.js.map